generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Role {
  ADMIN
  BACKOFFICE
  CAMPO

}

model User {
  id    String @id @default(uuid())
  name  String
  email String @unique
  role  String

  institutions Institution[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("user")
}

model Institution {
  id           String @id @default(uuid())
  name         String @unique
  fone         String
  cep          String
  number       String
  public_place String
  district     String
  city         String
  state        String
  complement   String

  users    User[]
  studants Studant[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("institution")
}

model Studant {
  id   String @id @default(uuid())
  name String @unique

  birth_date      Int
  fone            String
  cpf             String
  cep             String
  public_place    String
  district        String
  city            String
  state           String
  url_image       String
  medical_check   String
  agMedical_check String

  institution   Institution @relation(fields: [institutionId], references: [id])
  institutionId String

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("studant")
}
